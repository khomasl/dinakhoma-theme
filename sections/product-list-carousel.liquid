<section id="section" class="main-container shopify-section">
  <div class="section-wrapper w-full flex gap-5 items-center pb-5 lg:pb-0">
    {% render 'slider-arrow',
      direction: 'left',
      action: 'previous',
      navigation: 'product-swiper-button-prev',
      border: 'border'
    %}
    <div class="swiper w-full aspect-[0.8] ss:aspect-[1] sx:aspect-[1.4] sm:aspect-[2.2] md:aspect-[2.5] xl:aspect-[4]">
      <div class="swiper-wrapper">
        {% for card in section.blocks %}
          {% comment %} <div>{{ card.settings.product.id }}</div> {% endcomment %}
          {% render 'product-card', product: card, children: card.settings.product %}
          {% comment %} {% render 'image', image: card.settings.image %} {% endcomment %}
        {% endfor %}
      </div>
    </div>

    {% render 'slider-arrow',
      direction: 'right',
      action: 'next',
      navigation: 'product-swiper-button-next',
      border: 'border'
    %}
  </div>
</section>

<script>
  document.addEventListener('DOMContentLoaded', function () {
    new Swiper('.swiper', {
      spaceBetween: 50,
      slidesPerView: 1,
      loop: true,
      breakpoints: {
        760: {
          slidesPerView: 2,
        },
        1024: {
          slidesPerView: 3,
        },
      },
      navigation: {
        nextEl: '.product-swiper-button-next',
        prevEl: '.product-swiper-button-prev',
      },
    });
  });
</script>
